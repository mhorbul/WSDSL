gemset_name=wsdsl
ruby_version=1.9.2-p180
rubygems_version=1.8.5
# specify multiple gems with spaces ex: ('foo 1.2.3' 'bar 5.6.7')
gems=('jeweler 1.6.4' 'rspec 2.6.0' 'yard 0.7.2')

export GIT_SSL_NO_VERIFY=true

rvm use $ruby_version@$gemset_name --create --install
[ $(gem -v) = $rubygems_version ] || rvm rubygems $rubygems_version
for g in "${gems[@]}"; do
  read n v <<< $(echo $g | awk '{print $1 " " $2}')
  gem list ${n} -v${v} -i >> /dev/null
  [ $? -eq 0 ] || gem install ${n} -v${v} --no-ri --no-rdoc
done